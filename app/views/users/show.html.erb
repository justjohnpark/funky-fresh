<h3><%= @user.first_name %> <%= @user.last_name %>'s Profile Page</h3>

<%= link_to 'Edit User', edit_user_path(@user) %>
<%= link_to 'Destroy User', user_path(@user), method: :delete %>


  <% if @user %>
  <div id="accordion">
    <% @user.original_pantries.each do |pantry| %>
          <h4 class="accordion-toggle"><%= pantry.name %> || <%= link_to 'Edit Pantry', edit_user_pantry_path(@user, pantry) %></h4>
          <div class="accordion-content">
            <%= render "pantries/show", locals: { pantry: pantry } %>
          </div>
    <% end %>
  <% end %>

<style>
  .accordion-toggle {cursor: pointer;}
  .accordion-content {display: none;}
  .accordion-content.default {display: block;}
</style>

<script type="text/javascript">
  $(document).ready(function($) {
    $('#accordion').find('.accordion-toggle').click(function(){

      //Expand or collapse this panel
      $(this).next().slideToggle('fast');

      //Hide the other panels
      $(".accordion-content").not($(this).next()).slideUp('fast');

    });
  });
</script>

<table>
  <tr>
    <th>Pantry Name (Participant)</th>
  </tr>

  <% if @user %>
    <% @user.pantries.each do |pantry| %>
      <tr>
          <td><%= link_to pantry.name, user_pantry_path(@user, pantry) %></td>
      </tr>
    <% end %>
  <% end %>
</table>
<br>

<%= link_to 'New Pantry', new_user_pantry_path(@user), :class => "new-pantry" %>


