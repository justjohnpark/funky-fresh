<%= form_for @user do |f| %>
  <h1>Register</h1>
  <% if @user.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@user.errors.count, "error") %> Process failed because:</h2>
    <ul>
    <% @user.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
  <% end %>
  <p>
    <%= f.text_field :first_name, :required => true, :placeholder => 'First Name' %>
  </p>

  <p>
    <%= f.text_field :last_name, :required => true, :placeholder => 'Last Name' %>
  </p>

  <p class="email-input-register">
    <%= f.text_field :email, :required => true, :pattern => '[\w.]+@\w+(\.\w{2,})+', :placeholder => 'Email' %> <span class="email-input-notice"> </span>
  </p>

  <p class="password-input-register">
    <%= f.password_field :password, :required => true, :pattern => '^(?=.*[a-zA-Z])(?=.*[0-9]).{6,}$', :placeholder => 'Password' %> <span class="password-input-notice"> </span>
  </p>

  <p>
    <%= f.password_field :password_confirmation, :required => true, :placeholder => 'Confirm Password' %>
  </p>

  <% if @token != nil %>
    <%= hidden_field_tag :invite_token, @token %>
  <% end %>

  <p>
    <%= f.submit "Register" %>
  </p>

<% end %>

<script>
$(document).ready(function($) {
    $("input#user_password").tipsy({gravity: 'w', fade: true, trigger: 'focus', fallback: "Use at least 6 characters. Include an upper case letter, a lower case letter, and a number."})
  });
</script>
